<!DOCTYPE html>

<html>
  <head>
    <title>Task Viewer</title>
    <script src="jquery-2.1.4.min.js"></script>
    <script src="tarfile.js"></script>
    <script src="taskfile.js"></script>
    <script src="pptask.js"></script>
    <!--
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    -->

    <style>
      .var-name { color : blue; }
      .con-name { color : #808080; }
      .cone-name { color : #808080; }

      .problem-table tr:nth-child(2n+1) {background-color : #e0e0ff; }

      .problem-table { cell-spacing : 0px; border-collapse : collapse; }
      .problem-table td {  padding : 0 3ps 0 3px; margin : 0px; }
      .problem-table td { white-space : nowrap; }
    </style>

    <script>
function readSingleFile(e) {
  var file = e.target.files[0];
  if (!file) {
    return;
  }

  var reader = new FileReader();
  reader.onload = function(e) {
    var contents = e.target.result;
    pptask(contents,document.getElementById('pretty-task'));
    //MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
  };
  reader.readAsArrayBuffer(file);
}

$(document).ready(function () { $('#file-input').change(readSingleFile); });
    </script>
  </head>

  <body>
    <input type="file" name="Task File" id="file-input" accept=".task" autofocus/>
    <div id="pretty-task">
    </div>
  </body>
</html>
